#import "./UserFragment.graphql"
#import "./ProjectFragment.graphql"
#import "./CommentFragment.graphql"

fragment PostFragment on Post {
  id
  caption
  createdAt
  user {
    ...UserFragment
  }
  permissions {
    isOwner
  }
  files: filesConnection(type: IMAGE) {
    edges {
      node {
        id
        type
        uri
      }
    }
  }
  project {
    ...ProjectFragment
  }
  likes {
    isLiked
    totalCount
  }
  comments: commentsConnection(first: 2) @connection(key: "comments") {
    totalCount
    edges {
      node {
        ...CommentFragment
      }
    }
  }
}