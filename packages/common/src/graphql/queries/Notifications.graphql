#import "../fragments/UserFragment.graphql"
#import "../fragments/ProjectFragment.graphql"

query notifications($after: String) {
  notifications(after: $after) @connection(key: "notifications") {
    unreadCount
    pageInfo {
      hasNextPage
    }
    edges {
      cursor
      node {
        id
        type
        createdAt
        user {
          ...UserFragment
        }
        project {
          ...ProjectFragment
        }
        post {
          id
        }
        comment {
          id
          text
          postId
        }
        files: filesConnection(type: IMAGE, first: 1) {
          edges {
            node {
              id
              uri
            }
          }
        }
      }
    }
  }
}