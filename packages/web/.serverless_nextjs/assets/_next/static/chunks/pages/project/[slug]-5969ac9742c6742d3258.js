_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{"061g":function(e,t,o){"use strict";var n=o("1LhI"),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var o,i,l,a,s,c,u=!1;t||(t={}),o=t.debug||!1;try{if(l=n(),a=document.createRange(),s=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=r[t.format]||r.default;window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(c),a.selectNodeContents(c),s.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(p){o&&console.error("unable to copy using execCommand: ",p),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(p){o&&console.error("unable to copy using clipboardData: ",p),o&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(a):s.removeAllRanges()),c&&document.body.removeChild(c),l()}return u}},"1LhI":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},"8KA/":function(e,t,o){var n={"./copy.svg":"YUl8","./email.svg":"a5Fj","./facebook.svg":"9EAL","./messenger.svg":"EdIB","./twitter.svg":"Ll+1"};function r(e){var t=i(e);return o(t)}function i(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="8KA/"},"9EAL":function(e,t){var o='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="22"><path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 1H9a5 5 0 00-5 5v3H1v4h3v8h4v-8h3l1-4H8V6a1 1 0 011-1h3V1z"/></svg>';e.exports=o,t.default=o},EMob:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=i(o("ERkP")),r=i(o("061g"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?f(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m=function(e){function t(){var e,o;c(this,t);for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return g(f(o=p(this,(e=d(t)).call.apply(e,[this].concat(l)))),"onClick",(function(e){var t=o.props,i=t.text,l=t.onCopy,a=t.children,s=t.options,c=n.default.Children.only(a),u=(0,r.default)(i,s);l&&l(i,u),c&&c.props&&"function"===typeof c.props.onClick&&c.props.onClick(e)})),o}var o,i,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),o=t,(i=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),o=s(e,["text","onCopy","options","children"]),r=n.default.Children.only(t);return n.default.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},o,{onClick:this.onClick}))}}])&&u(o.prototype,i),l&&u(o,l),t}(n.default.PureComponent);t.CopyToClipboard=m,g(m,"defaultProps",{onCopy:void 0,options:void 0})},EdIB:function(e,t){var o='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L1 19l1.9-5.7A8.38 8.38 0 012 9.5a8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg>';e.exports=o,t.default=o},KYZq:function(e,t,o){"use strict";var n=o("EMob").CopyToClipboard;n.CopyToClipboard=n,e.exports=n},"Ll+1":function(e,t){var o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="20"><path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M23 1.01a10.886 10.886 0 01-3.14 1.535 4.47 4.47 0 00-4.978-1.25A4.494 4.494 0 0012 5.556v1.003a10.65 10.65 0 01-9-4.545s-4 9.029 5 13.041a11.613 11.613 0 01-7 2.006c9 5.016 20 0 20-11.536 0-.28-.028-.558-.08-.832A7.75 7.75 0 0023 1.01z"/></svg>';e.exports=o,t.default=o},YUl8:function(e,t){var o='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"><g fill="none" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" transform="translate(1 1)"><rect width="13" height="13" x="7" y="7" rx="2"/><path d="M3 13H2a2 2 0 01-2-2V2a2 2 0 012-2h9a2 2 0 012 2v1"/></g></svg>';e.exports=o,t.default=o},a5Fj:function(e,t){var o='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="17"><g fill="none" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M2.8 1h14.4c.99 0 1.8.81 1.8 1.8v10.8c0 .99-.81 1.8-1.8 1.8H2.8c-.99 0-1.8-.81-1.8-1.8V2.8C1 1.81 1.81 1 2.8 1z"/><path d="M19 2.8l-9 6.3-9-6.3"/></g></svg>';e.exports=o,t.default=o},fp6M:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return H}));var n=o("zjfJ"),r=o("zygG"),i=o("ERkP"),l=o.n(i),a=o("vEP8"),s=o.n(a),c=o("Vbab"),u=o("wYgI"),p=o("g+7n"),d=o("j/s1"),f=o("BY2E"),y=Object(d.default)(f.a).withConfig({displayName:"styles__Base",componentId:"sc-7j47su-0"})(["margin-bottom:10px;width:220px;"]),g=l.a.createElement;var m=function(e){var t=e.following,o=e.onPress,n=Object(c.d)("Follow").t;return g(y,{onPress:o,black:!t},n(t?"unfollow":"follow"))},w=o("2nNk"),b=o("KYZq"),v=o("95u7"),h=l.a.createElement;function j(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function O(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?j(Object(o),!0).forEach((function(t){Object(n.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var x=function(e){var t,n=e.closeModal,r=e.dynamicLink,i=Object(c.d)("Share").t;return[{provider:"facebook",url:"https://www.facebook.com/sharer/sharer.php?app_id=1174076712654826&u=".concat(t=r),style:{marginLeft:5,width:14}},{provider:"messenger",url:"https://www.facebook.com/dialog/send?app_id=1174076712654826&link=".concat(t),style:{width:23}},{provider:"email",url:"mailto:?subject=See this Wrench project&body=See this Wrench project ".concat(t),style:{width:23}},{provider:"copy",url:t,style:{width:23}},{provider:"cancel",cancel:!0}].map((function(e){var t=e.provider,r=e.cancel,l=e.url,a=e.style;return h("div",{key:t,style:{display:"flex",marginBottom:r?0:25,marginTop:r?25:0,marginLeft:r?38:0}},!r&&h("div",{style:{width:24,marginRight:15}},h(v.e,{style:O({height:"auto"},a),source:o("8KA/")("./".concat(t,".svg")),noFill:!0})),h(v.q,{medium:!0},function(e){var t=e.provider,o=e.url,n=e.closeModal;switch(t){case"cancel":return h("span",{style:{cursor:"pointer"},onClick:n},i(t));case"copy":return h(b.CopyToClipboard,{text:o,onCopy:n,style:{cursor:"pointer"}},h("span",null,i(t)));default:return h("a",{href:o},i(t))}}({provider:t,url:l,closeModal:n})))}))},C=o("45VJ"),k=d.default.div.withConfig({displayName:"styles__Inner",componentId:"sc-10uguje-0"})(["box-sizing:border-box;display:flex;flex-direction:column;position:relative;height:100%;@media ","{height:100%;width:100%;}"],C.b.TABLET),P=d.default.div.withConfig({displayName:"styles__LoaderContainer",componentId:"sc-10uguje-1"})(["display:flex;justify-content:center;align-items:center;padding:20px 0;height:",";"],(function(e){return e.fullscreen?"100%":"auto"})),_=d.default.div.withConfig({displayName:"styles__Scroll",componentId:"sc-10uguje-2"})(["overflow-y:scroll;margin-top:40px;&::-webkit-scrollbar{display:none;}"]),E=d.default.div.withConfig({displayName:"styles__Types",componentId:"sc-10uguje-3"})(["column-count:3;column-gap:10px;@media ","{column-count:2;}"],C.b.TABLET),D=l.a.createElement;var T=function(e){var t=e.id,o=e.closeModal,n=Object(p.useSimilarProjectsQuery)({variables:{id:t,first:6}}),r=n.data;return n.loading?D(P,{fullscreen:!0},D(v.j,null)):D(k,null,D(_,null,D(E,null,r.similarProjects.edges.map((function(e){var t=e.node;return D(v.d,{onPress:o,marginLeft:10,marginBottom:40,key:t.id,image:t.cover.uri,title:t.title,slug:t.slug,user:t.user,size:172.5})})))))},M=o("iALJ"),S=o("a9+Q"),N=d.default.div.withConfig({displayName:"styles__Left",componentId:"xag3nv-0"})(["margin-right:60px;max-width:360px;position:fixed;@media ","{margin-right:0;max-width:100%;position:static;margin-bottom:50px;}"],C.b.TABLET),A=d.default.div.withConfig({displayName:"styles__Right",componentId:"xag3nv-1"})(["margin-left:420px;width:100%;@media ","{margin-left:0;}"],C.b.TABLET),L=Object(d.default)(f.a).withConfig({displayName:"styles__ShareButton",componentId:"xag3nv-2"})(["width:220px;margin-bottom:10px;@media ","{display:none;}"],C.b.TABLET),I=Object(d.default)(f.a).withConfig({displayName:"styles__Similar",componentId:"xag3nv-3"})(["width:220px;@media ","{display:none;}"],C.b.TABLET),R=Object(d.default)(S.a).withConfig({displayName:"styles__Followers",componentId:"xag3nv-4"})(["margin-bottom:50px;"]),B=l.a.createElement;function F(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function U(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(Object(o),!0).forEach((function(t){Object(n.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function z(e){var t,o,n,l,a,d=e.slug,f=e.isAuthenticated,y=e.action,g=Object(c.d)("Project").t,b=Object(p.usePaginatedQuery)(["project","posts"])(p.ProjectDocument,{variables:{slug:d}}),h=b.data,j=h.edges,O=h.project,C=(b.isFetching,b.fetchMore),k=b.hasNextPage,P=Object(p.useFollowProjectMutation)(),_=Object(r.a)(P,1)[0],E=Object(M.c)((function(){return B(M.a,{close:F},B(w.a,{closeModal:F,referral:"/project/".concat(d,"?action=").concat("follow")}))}),[d]),D=Object(r.a)(E,2),S=D[0],F=D[1],z=Object(M.c)((function(){return B(M.a,{large:!0,close:Y},B(T,{id:O.id,closeModal:Y}))}),[O]),H=Object(r.a)(z,2),V=H[0],Y=H[1],J=Object(M.c)((function(){return B(M.a,{close:Q},B(x,{closeModal:Q,dynamicLink:O.dynamicLink}))}),[O]),K=Object(r.a)(J,2),q=K[0],Q=K[1],W=function(e){if(f){var t=e.permissions.isFollower?e.followers.totalCount-1:e.followers.totalCount+1,o=!e.permissions.isFollower;_({variables:{id:e.id},optimisticResponse:{__typename:"Mutation",followProject:U(U({id:e.id},e),{},{followers:U(U({},e.followers),{},{totalCount:t}),permissions:U(U({},e.permissions),{},{isFollower:o}),__typename:"Project"})}})}else S()};return Object(i.useEffect)((function(){"follow"!==y||O.permissions.isFollower||W(O)}),[y]),O?B(v.i,null,B(u.a,{config:{title:g("title",{title:O.title,type:null===O||void 0===O||null===(t=O.type)||void 0===t?void 0:t.title}),description:g("description",{followers:O.followers.totalCount,posts:(null===O||void 0===O||null===(o=O.posts)||void 0===o?void 0:o.totalCount)||0,fullName:O.user.fullName,username:O.user.username}),openGraph:{title:g("title",{title:O.title,type:null===O||void 0===O||null===(n=O.type)||void 0===n?void 0:n.title}),description:g("description",{followers:O.followers.totalCount,posts:(null===O||void 0===O||null===(l=O.posts)||void 0===l?void 0:l.totalCount)||0,fullName:O.user.fullName,username:O.user.username}),url:"https://wrench.cc/project/".concat(d),type:"website",images:[{url:"".concat(null===O||void 0===O||null===(a=O.cover)||void 0===a?void 0:a.uri,"?w=650&h=650&dpr=1"),width:640,height:640}],site_name:"Wrench"}}}),B(N,null,B(v.s,{large:!0,lineHeight:78},null===O||void 0===O?void 0:O.title),B(R,{followers:O.followers,project:O}),!O.permissions.isOwner&&B(m,{following:O.permissions.isFollower,onPress:function(){return W(O)}}),B(L,{onPress:q},g("share")),B(I,{onPress:V},g("similar"))),B(A,null,B(s.a,{loadMore:C,hasMore:k,loader:B(v.j,{key:0})},null===j||void 0===j?void 0:j.map((function(e){var t=e.node;return B(v.l,{data:t,key:t.id,withoutTitle:!0})}))))):null}z.getInitialProps=function(e){return e.query};var H=z},oMyT:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[slug]",function(){return o("fp6M")}])}},[["oMyT",1,2,0,3,4]]]);