name: wrench-web
stage: production

web:
  component: ./infra/serverless-next-edge
  inputs:
    domain: "wrench.cc"
    bucketName: wrench-web-edge
    build: true
    defaultLambda:
      memory: 2048
      runtime: nodejs10.x
    apiLambda:
      memory: 2048
      runtime: nodejs10.x
    cloudfront:
      compress: true
      forward:
        headers: ['CloudFront-Viewer-Country', 'Accept-Language']
